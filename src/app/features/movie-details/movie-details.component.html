<div class="movie-details-dialog">
  <div class="flex justify-between items-center mb-1 w-full">
    <h2 mat-dialog-title>Movie Details</h2>
    <button mat-icon-button (click)="close()" aria-label="Close dialog" class="mr-3">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <mat-dialog-content>
    @if (isLoading()) {
      <div class="flex justify-center items-center py-8">
        <mat-spinner diameter="40"></mat-spinner>
      </div>
    } @else if (error()) {
      <div class="flex flex-col justify-center items-center py-8">
        <mat-icon class="text-6xl text-red-500 mb-4">error</mat-icon>
        <p class="text-lg">{{ error() }}</p>
      </div>
    } @else if (movieDetails(); as movie) {
      <div class="flex flex-col gap-6">
        <app-movie-info [movie]="movie" />
        <app-movie-stats [movie]="movie" />
        <app-movie-rating
          [movieId]="movie.id"
          [currentRating]="userRating()"
          (ratingSubmitted)="onRatingSubmitted($event)"
        />
      </div>
    }
  </mat-dialog-content>
</div>
